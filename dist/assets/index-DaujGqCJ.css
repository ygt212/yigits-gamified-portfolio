*{margin:0;padding:0;box-sizing:border-box;-webkit-user-select:none;user-select:none}html,body{width:100%;height:100%;overflow:hidden;background-color:#000;font-family:Inter,sans-serif}canvas{display:block;position:fixed;top:0;left:0;outline:none;z-index:1}#ui-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2}#joystick-zone{position:absolute;bottom:50px;left:50px;width:150px;height:150px;pointer-events:auto;display:none}#interact-button{position:absolute;bottom:80px;right:50px;width:80px;height:80px;border-radius:50%;background:#fff3;border:2px solid white;color:#fff;font-weight:700;pointer-events:auto;display:none;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:10}#interact-button.active{display:flex;justify-content:center;align-items:center;animation:pulse 1s infinite}@keyframes pulse{0%{transform:scale(1);box-shadow:0 0 #ffffffb3}70%{transform:scale(1.1);box-shadow:0 0 0 10px #fff0}to{transform:scale(1);box-shadow:0 0 #fff0}}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;z-index:20;display:flex;justify-content:center;align-items:center;pointer-events:auto}.modal-content{background:#222;padding:20px;border-radius:10px;width:80%;max-width:600px;color:#fff;position:relative;border:1px solid #00ffcc;box-shadow:0 0 20px #0fc3}.close-button{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}#interact-label{position:absolute;bottom:150px;left:50%;transform:translate(-50%);background:#0fc3;border:1px solid #00ffcc;color:#fff;padding:10px 20px;border-radius:5px;font-weight:700;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:opacity .3s;pointer-events:none;z-index:5}#interact-label.hidden{display:none}.hidden{display:none!important}#dance-btn{position:fixed;top:20px;right:20px;background:#fff3;border:2px solid rgba(255,255,255,.5);color:#fff;padding:10px 20px;border-radius:20px;font-family:Inter,sans-serif;font-weight:600;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:none;z-index:100;touch-action:manipulation;cursor:pointer;pointer-events:auto}#dance-btn:active{background:#fff6;transform:scale(.95)}@media(max-width:768px){#dance-btn{display:block}}.interaction-container{position:fixed;bottom:50px;left:50%;transform:translate(-50%);pointer-events:none;opacity:0;transition:opacity .3s;z-index:100}.interaction-container.visible{opacity:1;pointer-events:all}.interaction-bubble{background:#000c;color:#fff;padding:12px 24px;border-radius:30px;display:flex;align-items:center;gap:10px;font-family:sans-serif;font-weight:700;box-shadow:0 4px 15px #0000004d}.key-hint{background:#fff;color:#000;width:24px;height:24px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:14px}.dialogue-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0003;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:flex-end;padding-bottom:60px;z-index:2000}@keyframes slideUpFade{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes floatBox{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.dialogue-box{background:#0f172af2;color:#f1f5f9;border:1px solid rgba(255,255,255,.1);box-shadow:0 25px 50px -12px #000000b3;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);width:750px;max-width:90%;padding:32px;border-radius:20px;font-family:Inter,system-ui,sans-serif;position:relative;animation:slideUpFade .4s ease-out forwards,floatBox 6s ease-in-out infinite .4s}.dialogue-box h3{color:#fff;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:15px;margin-top:0;margin-bottom:20px;font-weight:700;font-size:1.5rem}.dialogue-box p{font-size:1.1rem;line-height:1.6;color:#cbd5e1;min-height:3.2rem;white-space:pre-wrap}.options-grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:25px}@keyframes popIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.dialogue-btn{background:#1e293b99;border:1px solid rgba(255,255,255,.05);color:#e2e8f0;padding:15px 20px;text-align:left;cursor:pointer;border-radius:12px;font-weight:500;transition:all .2s ease;display:flex;justify-content:space-between;align-items:center;font-size:1rem;opacity:0;animation:popIn .3s cubic-bezier(.175,.885,.32,1.275) forwards}.dialogue-btn:hover{background:#334155;border-color:#38bdf8;color:#fff;transform:translate(5px);box-shadow:0 0 15px #38bdf833}.dialogue-btn:after{content:"âž”";opacity:0;transition:opacity .2s;color:#38bdf8}.dialogue-btn:hover:after{opacity:1}.dialogue-btn:nth-child(1){animation-delay:.1s}.dialogue-btn:nth-child(2){animation-delay:.2s}.dialogue-btn:nth-child(3){animation-delay:.3s}.dialogue-btn:nth-child(4){animation-delay:.4s}.close-btn{position:absolute;top:20px;right:20px;background:#ffffff1a;border:none;color:#94a3b8;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:700;transition:all .2s;display:flex;align-items:center;justify-content:center}.close-btn:hover{background:#fff3;color:#fff}.music-btn{position:fixed;top:20px;left:20px;z-index:1000;background:#0f172acc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);color:#fff;padding:10px 20px;border-radius:30px;cursor:pointer;display:flex;align-items:center;gap:10px;font-family:Inter,sans-serif;font-size:14px;font-weight:500;transition:all .3s ease}.music-btn:hover{background:#ffffff1a;transform:scale(1.05);box-shadow:0 0 15px #00ffc833}.music-btn.playing{border-color:#0fc;color:#0fc;box-shadow:0 0 10px #00ffcc1a}.loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172a;z-index:9999;display:flex;justify-content:center;align-items:center;transition:opacity 1.5s ease-in-out,visibility 1.5s}.loading-overlay.ended{opacity:0;visibility:hidden;pointer-events:none}.loading-container{text-align:center;color:#f8fafc;font-family:Inter,sans-serif}.loading-title{font-size:2rem;font-weight:800;letter-spacing:2px;margin-bottom:10px;background:linear-gradient(to right,#00c6ff,#0072ff);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.loading-text{color:#94a3b8;margin-bottom:30px;font-size:.9rem}.progress-container{width:300px;height:4px;background:#ffffff1a;border-radius:4px;overflow:hidden;margin:0 auto}.progress-fill{width:0%;height:100%;background:#38bdf8;box-shadow:0 0 10px #38bdf8;transition:width .2s}.percentage-text{margin-top:10px;font-size:.8rem;color:#64748b}.enter-btn{margin-top:20px;padding:15px 40px;font-size:1.2rem;font-family:Inter,sans-serif;font-weight:700;color:#fff;background:linear-gradient(135deg,#00c6ff,#0072ff);border:none;border-radius:50px;cursor:pointer;box-shadow:0 0 20px #0072ff80;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;opacity:0;transform:translateY(20px);animation:fadeInUp .5s forwards}.enter-btn:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 0 30px #0072ffcc}.enter-btn:active{transform:scale(.98)}.enter-btn.hidden{display:none}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}@media(max-width:1024px){#joystick-zone{display:block!important}.key-hint{display:none}}@media(max-width:768px){.dialogue-box{width:90%!important;padding:20px!important;bottom:20px;border-radius:15px}.dialogue-box h3{font-size:1.2rem}.dialogue-box p{font-size:.95rem}.interaction-bubble{bottom:120px;padding:10px 20px}.music-btn{top:15px;left:15px;padding:8px 15px;font-size:12px}.loading-title{font-size:1.5rem}.progress-container{width:80%}.dialogue-btn{padding:12px;font-size:.9rem}}
